<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scroll Animation with Keyframes</title>
  <style>
    /* Reset mặc định */
    body, h1, p, nav, a {
      margin: 0;
      padding: 0;
    }
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      background: #f4f4f4;
    }

    /* Navigation Bar */
    nav {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: #3333331f;
      padding: 10px 0;
      z-index: 1000;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    nav ul {
      list-style: none;
      display: flex;
      justify-content: center;
    }
    nav ul li {
      margin: 0 15px;
    }
    nav ul li a {
      color: white;
      text-decoration: none;
      font-size: 18px;
      padding: 5px 10px;
      transition: background 0.3s ease;
    }
    nav ul li a:hover {
      background: #575757;
      border-radius: 5px;
    }

    /* Section Styles */
    .section {
      min-height: 100vh;
      padding: 50px 20px;
      background: white;
      margin: 20px auto;
      border-radius: 8px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      position: relative;
      overflow: hidden;
    }

    /* Animation */
    @keyframes slideInFromLeft {
      from {
        opacity: 0;
        transform: translateX(-100px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    @keyframes slideInFromRight {
      from {
        opacity: 0;
        transform: translateX(100px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    .hidden-left {
      opacity: 0;
      transform: translateX(-100px);
    }

    .hidden-right {
      opacity: 0;
      transform: translateX(100px);
    }

    .animated-left {
      animation: slideInFromLeft 1s ease forwards;
    }

    .animated-right {
      animation: slideInFromRight 1s ease forwards;
    }

    /* Section Background Colors */
    #home {
      background: #ffebcc;
    }
    #about {
      background: #d6f5d6;
    }
    #services {
      background: #cce0ff;
    }
    #contact {
      background: #ffd6cc;
    }
  </style>
</head>
<body>

  <!-- Navigation -->
  <nav>
    <ul>
      <li><a href="#home">Home</a></li>
      <li><a href="#about">About</a></li>
      <li><a href="#services">Services</a></li>
      <li><a href="#contact">Contact</a></li>
    </ul>
  </nav>

  <!-- Sections -->
  <div id="home" class="section">
    <h1 class="hidden-left">Welcome to Home</h1>
    <p class="hidden-right">This is the Home section. Scroll down to explore more.</p>
  </div>

  <div id="about" class="section">
    <h1 class="hidden-left">About Us</h1>
    <p class="hidden-right">Learn more about our company in this section.</p>
  </div>

  <div id="services" class="section">
    <h1 class="hidden-left">Our Services</h1>
    <p class="hidden-right">Discover the services we offer to our clients.</p>
  </div>

  <div id="contact" class="section">
    <h1 class="hidden-left">Contact Us</h1>
    <p class="hidden-right">Feel free to reach out through this section.</p>
  </div>

  <script>
   // Lấy tất cả các phần tử có class "hidden-left" và "hidden-right"
const hiddenLeft = document.querySelectorAll('.hidden-left');
const hiddenRight = document.querySelectorAll('.hidden-right');

// Cấu hình IntersectionObserver
const options = {
  root: null, // viewport mặc định
  threshold: 0 // Kích hoạt khi phần tử xuất hiện
};

const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      // Nếu phần tử xuất hiện trong viewport, thêm class animation
      if (entry.target.classList.contains('hidden-left')) {
        entry.target.classList.add('animated-left');
      }
      if (entry.target.classList.contains('hidden-right')) {
        entry.target.classList.add('animated-right');
      }
    } else {
      // Khi phần tử rời khỏi viewport, xóa class để animation có thể chạy lại
      if (entry.target.classList.contains('hidden-left')) {
        entry.target.classList.remove('animated-left');
      }
      if (entry.target.classList.contains('hidden-right')) {
        entry.target.classList.remove('animated-right');
      }
    }
  });
}, options);

// Quan sát các phần tử
hiddenLeft.forEach(text => observer.observe(text));
hiddenRight.forEach(text => observer.observe(text));

// Smooth scroll cho các liên kết trong nav
const navLinks = document.querySelectorAll('nav a');
navLinks.forEach(link => {
  link.addEventListener('click', function(e) {
    e.preventDefault();
    const targetId = this.getAttribute('href');
    const targetSection = document.querySelector(targetId);
    window.scrollTo({
      top: targetSection.offsetTop - 50, // Trừ khoảng cách của thanh nav
      behavior: 'smooth'
    });
  });
});

  </script>

</body>
</html>
